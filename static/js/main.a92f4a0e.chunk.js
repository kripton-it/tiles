(this.webpackJsonptiles=this.webpackJsonptiles||[]).push([[0],{12:function(e,t,a){e.exports=a(28)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(4),c=a.n(i),l=a(2),o=a(3),s=a(10),u=a(11),d=a(1),m=function(e,t){return{payload:{position:e,state:t},type:"UPDATE_CELL_STATE"}},E=function(e){return{payload:e,type:"SET_TIMER"}},p=function(e){for(var t=e*e,a=new Array(t).fill(0).map((function(e,t){return t+1})),n=t-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),i=[a[r],a[n]];a[n]=i[0],a[r]=i[1]}for(var c=new Array(e),l=0;l<e;l++){c[l]=new Array(e);for(var o=0;o<e;o++)c[l][o]={state:"closed",value:Math.ceil(a[l*e+o]/2)}}return c},b={current:null,timer:null,table:[]},f={isStarted:!1,isFinished:!1,isPaused:!1,size:6,points:0},v=Object(o.combineReducers)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_BOARD":return Object(d.a)(Object(d.a)({},e),{},{table:p(t.payload)});case"SET_TIMER":return Object(d.a)(Object(d.a)({},e),{},{timer:t.payload});case"SET_CURRENT":return Object(d.a)(Object(d.a)({},e),{},{current:t.payload});case"RESET_CURRENT":return Object(d.a)(Object(d.a)({},e),{},{current:null});case"UPDATE_CELL_STATE":var a=t.payload.position,n=a.i,r=a.j;return Object(d.a)(Object(d.a)({},e),{},{table:e.table.map((function(e,a){return n!==a?e:e.map((function(e,a){return r!==a?e:Object(d.a)(Object(d.a)({},e),{},{state:t.payload.state})}))}))});default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POINTS":return Object(d.a)(Object(d.a)({},e),{},{points:e.points+1});case"START_GAME":return Object(d.a)(Object(d.a)({},e),{},{isStarted:!0});case"TOGGLE_PAUSE":return Object(d.a)(Object(d.a)({},e),{},{isPaused:!e.isPaused});case"SET_SIZE":return Object(d.a)(Object(d.a)({},e),{},{size:t.payload});case"FINISH_GAME":return Object(d.a)(Object(d.a)({},e),{},{isFinished:!0});case"RESTART_GAME":return f;default:return e}}}),T={board:b,game:f},S=Object(o.createStore)(v,T,Object(s.composeWithDevTools)(Object(o.applyMiddleware)(u.a))),y=(a(23),a(24),a(25),Object(l.b)((function(e){return{isPaused:e.game.isPaused,size:e.game.size,table:e.board.table}}),(function(e){return{handleClick:function(t){return e(function(e){return function(t,a){var n=a().board,r=n.current,i=n.table,c=n.timer;if(r)if(r.value===i[e.i][e.j].value){clearTimeout(c),t(m(r.position,"correct")),t(m(e,"correct")),t({type:"ADD_POINTS"});var l=a().game,o=l.points,s=l.size;console.log(o,s),o===s*s/2&&t({type:"FINISH_GAME"}),t({type:"RESET_CURRENT"}),t(E(null))}else clearTimeout(c),t(m(r.position,"error")),t(m(e,"error")),t({type:"TOGGLE_PAUSE"}),setTimeout((function(){t({type:"TOGGLE_PAUSE"}),t(m(r.position,"closed")),t(m(e,"closed")),t({type:"RESET_CURRENT"})}),3e3);else{t(m(e,"temp")),t(function(e,t){return{payload:{position:e,value:t},type:"SET_CURRENT"}}(e,i[e.i][e.j].value));var u=setTimeout((function(){t(m(e,"closed")),t({type:"RESET_CURRENT"})}),3e3);t(E(u))}}}(t))}}}))((function(e){var t=e.isPaused,a=e.position,n=e.size,i=e.table,c=e.handleClick,l=i[a.i][a.j],o=l.state,s=l.value;return r.a.createElement("button",{type:"button",className:"cell-".concat(o," cell-").concat(n),onClick:function(){c(a)},disabled:t||"closed"!==o},s)}))),O=Object(l.b)((function(e){return{isStarted:e.game.isStarted,table:e.board.table}}))((function(e){var t=e.isStarted,a=e.table;if(!t)return null;var n=a.map((function(e,t){return r.a.createElement("div",{key:t},e.map((function(e,a){var n={i:t,j:a};return r.a.createElement(y,{key:a,position:n})})))}));return r.a.createElement("div",{className:"game-board"},n)})),j=(a(26),Object(l.b)((function(e){return{isFinished:e.game.isFinished,isStarted:e.game.isStarted,points:e.game.points}}),(function(e){return{restartGame:function(){return e({type:"RESTART_GAME"})}}}))((function(e){var t=e.isFinished,a=e.isStarted,n=e.points,i=e.restartGame;return a?t?r.a.createElement("div",{className:"report"},r.a.createElement("h1",null,"Congratulations! Game over!",r.a.createElement("button",{type:"button",onClick:i,className:"restart"},"New game"))):r.a.createElement("div",{className:"info"},r.a.createElement("p",null,"Correct answers: ",n)):null}))),R=(a(27),Object(l.b)((function(e){return{isStarted:e.game.isStarted,size:e.game.size}}),(function(e){return{createBoard:function(t){return e(function(e){return{payload:e,type:"CREATE_BOARD"}}(t))},setSize:function(t){return e(function(e){return{payload:e,type:"SET_SIZE"}}(t))},startGame:function(){return e({type:"START_GAME"})}}}))((function(e){var t=e.createBoard,a=e.isStarted,n=e.setSize,i=e.size,c=e.startGame;if(a)return null;var l=function(e){n(+e.target.value)};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(i),c()},className:"settings"},r.a.createElement("p",{className:"invite"},"Please, select level:"),r.a.createElement("div",{className:"radios"},[{level:"Easy",size:4},{level:"Middle",size:6},{level:"Difficult",size:8}].map((function(e){return r.a.createElement("div",{className:"radio",key:e.size},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:e.size,checked:i===e.size,onChange:l}),e.level))}))),r.a.createElement("div",{className:"start"},r.a.createElement("button",{type:"submit"},"Start game")))}))),_=function(){return r.a.createElement("div",{className:"game"},r.a.createElement(R,null),r.a.createElement(O,null),r.a.createElement(j,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:S},r.a.createElement(_,null))),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.a92f4a0e.chunk.js.map